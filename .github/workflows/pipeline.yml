name: Android CI

on: [push, pull_request]

jobs:
  build:

    runs-on: macos-latest

    steps:
      - uses: actions/checkout@v1
      - name: set up JDK 11
        uses: actions/setup-java@v1
        with:
          java-version: 11
      - name: Run ktlint
        # You may pin to the exact commit or the version.
        # uses: lucasnlm/ktlint-action@6d01bcc1303a3bb6ce1c47b5bec1cd352f039989
        uses: lucasnlm/ktlint-action@v1.0.1
      - name: Build android app
        run: ./gradlew assembleDebug
      - name: Run Unit Tests
        run: ./gradlew test
#      - name: Build iOS shared code
#        run: ./gradlew :common:compileKotlinIOS